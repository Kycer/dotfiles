# 设置mod键
set $mod Mod4
# 开机启动
exec_always --no-startup-id  feh --bg-fill ~/Picture/64117582_p0.jpg
exec_always --no-startup-id fcitx
#exec_always --no-startup-id nm-applet
exec_always --no-startup-id compton -b
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

#exec --no-startup-id xset dpms 600

#设置工作区间
set $WS1  1:
set $WS2  2:
set $WS3  3:
set $WS4  4:
set $WS5  5:
set $WS6  6:
set $WS7  7:
set $WS8  8:
set $WS9  9:
set $WS0 10:


# 默认普通窗口的边框类型(normal|none|pixel)
new_window pixel 2
# 默认浮动窗口的边框类型
new_float normal
# 取消工作区边缘的边框
hide_edge_borders both
# 在三种边框类型中切换
bindsym $mod+b border toggle


# 字体
font pango:monospace 10

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# 焦点跟随鼠标移动
focus_follows_mouse yes

################################
#---------- 快捷键设置 ----------#
################################


# 虚拟终端
bindsym $mod+Return exec urxvt
# 关闭窗口
bindsym $mod+Shift+q kill
# 启动 rofi
#bindsym $mod+d exec --no-startup-id rofi -show run -lines 5 -font "Sans 14" -hide-scrollbar -separator-style "none" -line-margin 7 -padding 300 -width 100
bindsym $mod+d exec --no-startup-id rofi -show drun
bindsym $mod+Shift+d exec --no-startup-id rofi -show run
#bindsym $mod+d exec --no-startup-id exec rofi -modi combi,window -show combi -combi-modi run,drun
# 文件管理
bindsym $mod+e exec --no-startup-id pcmanfm, workspace $WS5
# Xmind
bindsym $mod+i exec  --no-startup-id  cd /opt/tools/Xmind/XMind_amd64 && ./XMind
# scrot 截图
bindsym --release $mod+p exec scrot -b $HOME/Pictures/scrot/$(date +%Y%m%d%H%M%S).png && xclip -selection clipoard -t 'image/png' $HOME/Pictures/scrot/$(date +%Y%m%d%H%M%S).png
bindsym --release Control+Mod1+A exec scrot -s -b $HOME/Pictures/scrot/scrot_$(date +%Y%m%d%H%M).png && xclip -selection clipoard -t 'image/png' $HOME/Pictures/scrot/scrot_$(date +%Y%m%d%H%M).png
# 设置应用启动在哪个工作区间(xprop 获取 class)

assign [class="Thunar"] → $WS5
assign [class="Chromium"] → $WS2
assign [class="jetbrains-idea"] → $WS3
assign [class="Lxappearance"] → $WS8
assign [class="netease-cloud-music"] → $WS6
assign [class="electronic-wechat"] → $WS4

# 打开应用调到指定工作区间
# for_window [class="Thunar"] floating enable resize set 1100 680
# for_window [class="netease-cloud-music"] floating enable resize set 1100 680
for_window [class="netease-cloud-music"] floating enable
for_window [class="URxvt"] floating enable

# 更改窗口焦点
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

#更改窗口焦点
#bindsym $mod+Left focus left
#bindsym $mod+Down focus down
#bindsym $mod+Up focus up
#bindsym $mod+Right focus right

# 更改窗口位置
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# 更改窗口位置
#bindsym $mod+Shift+Left move left
#bindsym $mod+Shift+Down move down
#bindsym $mod+Shift+Up move up
#bindsym $mod+Shift+Right move right

# 窗口分割方式（h：水平 v:垂直）
bindsym $mod+n split h
bindsym $mod+v split v

# 窗口全屏显示
bindsym $mod+f fullscreen toggle

# 布局切换 (stacking：堆叠布局, tabbed：标签布局, toggle split：平铺布局（竖直/水平）)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+x layout toggle split

# 窗口切换到浮动
bindsym $mod+Shift+space floating toggle
# 焦点切换到浮动窗口
bindsym $mod+space focus mode_toggle
# 焦点切换到父窗口
bindsym $mod+a focus parent
# 焦点切换到子窗口
#bindsym $mod+d focus child
# 窗口切换为粘滞
#bindsym $mod+g sticky toggle
# 把当前窗口设为便笺本
bindsym $mod+minus move scratchpad
# 呼出第一个便笺本
bindsym $mod+plus scratchpad show

# 工作区间的切换
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9
bindsym $mod+0 workspace $WS0

# 移动窗口到另一个工作区
bindsym Mod1+Shift+Tab   workspace prev
bindsym Mod1+Tab  workspace next
bindsym $mod+Shift+Tab  move container to workspace prev, workspace prev
bindsym $mod+Tab move container to workspace next, workspace next
bindsym $mod+Shift+1 move container to workspace $WS1, workspace $WS1
bindsym $mod+Shift+2 move container to workspace $WS2, workspace $WS2
bindsym $mod+Shift+3 move container to workspace $WS3, workspace $WS3
bindsym $mod+Shift+4 move container to workspace $WS4, workspace $WS4
bindsym $mod+Shift+5 move container to workspace $WS5, workspace $WS5
bindsym $mod+Shift+6 move container to workspace $WS6, workspace $WS6
bindsym $mod+Shift+7 move container to workspace $WS7, workspace $WS7
bindsym $mod+Shift+8 move container to workspace $WS8, workspace $WS8
bindsym $mod+Shift+9 move container to workspace $WS9, workspace $WS9
bindsym $mod+Shift+0 move container to workspace $WS0, workspace $WS0

# 重新加载配置
bindsym $mod+Shift+c reload
# 重新载入
bindsym $mod+Shift+r restart
# 电源管理（Pause Break键呼出)
set $mode_system 系统:锁屏(L) 注销(O) 关机(S) 重启(R) 取消(Esc)
bindsym $mod+Shift+e mode "$mode_system"
mode "$mode_system" {
    # bindsym l exec i3lock -c '#333333', mode "default"
    bindsym l exec i3lock -i "/home/yksoul/Pictures/wallpaper/b2.png" , mode "default"
    bindsym o exec i3-msg exit
    bindsym s exec systemctl poweroff
    bindsym r exec systemctl reboot
    bindsym Escape mode "default"
}
# 音量调节
bindsym XF86AudioLowerVolume exec amixer set Master 3%- 
bindsym XF86AudioRaiseVolume exec amixer set Master 3%+ unmute

# 窗口大小
bindsym $mod+r mode "resize"
mode "resize" {
    bindsym j resize shrink width 10 px or 5 ppt
    bindsym k resize grow height 10 px or 5 ppt
    bindsym l resize shrink height 10 px or 5 ppt
    bindsym semicolon resize grow width 10 px or 5 ppt

    bindsym Left resize shrink width 10 px or 10 ppt
    bindsym Down resize grow height 10 px or 10 ppt
    bindsym Up resize shrink height 10 px or 10 ppt
    bindsym Right resize grow width 10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}


# 颜色设置
set $black	#002B36
set $white	#839496
set $gray	#CCCCCC
set $darkgray	#666666
set $green 	#799F26
set $blue	#4D73AA
set $purple	#8473A7
set $red	#B58900
set $orange	#E59847
set $cyan	#2AA198
set $dark	#00252E

# 窗口颜色                边框    背景    文字    提示
client.focused          #333333 #333333 #FFFFFF #333333
client.focused_inactive #999999 #999999 #FFFFFF #3399FF
client.unfocused        #999999 #999999 #FFFFFF #3399FF
client.urgent           #990000 #990000 #FFFFFF #990000
client.placeholder      #000000 #000000 #FFFFFF #000000
client.background       #FFFFFF
# bar 设置
bindsym $mod+m bar mode toggle
# bar {
#     position top
#     i3bar_command i3bar -t
#     separator_symbol "  >  "
#     # status_command i3status
#     status_command sh $HOME/.config/i3/conky.sh
#     #status_command conky -c $HOME/.config/i3/conky
#     # 拆解工作区名（隐藏前面的1:2:3:……）
#     strip_workspace_numbers yes
#     font pango:Sans 25px
#     colors {
#         background #10101000
#         statusline #DCDCDC
#         separator  #777777

#         # 工作区颜色         边框    背景    文字
#         focused_workspace  #3297FD #11111100 #FFFFFF
#         active_workspace   #FFFFFF #FFFFFF00 #FFFFFF
#         inactive_workspace #111111 #11111100 #FFFFFF
#         urgent_workspace   #990000 #11111100 #FFFFFF
#         binding_mode       #990000 #99000000 #FFFFFF
#     }
#     i3bar_command $HOME/.config/polybar/launch.sh
# }

############################ i3-gaps #################################
gaps inner 5
gaps outer 1
smart_gaps on
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps" {
    bindsym o      mode "$mode_gaps_outer"
    bindsym i      mode "$mode_gaps_inner"
    bindsym Return mode "default"
    bindsym Escape mode "default"

}

mode "$mode_gaps_inner" {
    bindsym plus  gaps inner current plus 5
    bindsym minus gaps inner current minus 5
    bindsym 0     gaps inner current set 0

    bindsym Shift+plus  gaps inner all plus 5
    bindsym Shift+minus gaps inner all minus 5
    bindsym Shift+0     gaps inner all set 0

    bindsym Return mode "default"
    bindsym Escape mode "default"

}
mode "$mode_gaps_outer" {
    bindsym plus  gaps outer current plus 5
    bindsym minus gaps outer current minus 5
    bindsym 0     gaps outer current set 0

    bindsym Shift+plus  gaps outer all plus 5
    bindsym Shift+minus gaps outer all minus 5
    bindsym Shift+0     gaps outer all set 0

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
